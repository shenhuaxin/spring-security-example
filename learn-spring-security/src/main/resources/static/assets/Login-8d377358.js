import{a as m}from"./auth-59e6805e.js";import{_ as f,r as v,a as d,o as g,c as h,d as n,w as l,u as r,e as w,f as x}from"./index-c831df45.js";const b={__name:"Login",setup(y){var t=v({username:"shenhuaxin",password:"shenhuaxin"}),p=()=>{var s=_("r");t.value.p_redirect=s,m(t.value,t.value).then(e=>{localStorage.setItem("token",e.data.data.token),e.data.data.redirectUrl?window.location.href=decodeURIComponent(e.data.data.redirectUrl):x.push("/")}).catch(e=>{console.log(e)})};function _(s){var o,u;var e=new RegExp("(^|&)"+s+"=([^&]*)(&|$)","i"),a=(u=(o=window.location.href)==null?void 0:o.split("?")[1])==null?void 0:u.match(e);return a!=null?a[2]:null}return(s,e)=>{const a=d("n-input"),o=d("n-form-item"),u=d("n-button"),c=d("n-form");return g(),h("div",null,[n(c,{class:"login-form","label-width":80,"label-placement":"left",model:r(t)},{default:l(()=>[n(o,{path:"username"},{default:l(()=>[n(a,{value:r(t).username,"onUpdate:value":e[0]||(e[0]=i=>r(t).username=i),placeholder:"输入姓名"},null,8,["value"])]),_:1}),n(o,{path:"password"},{default:l(()=>[n(a,{value:r(t).password,type:"password","show-password-on":"mousedown",placeholder:"输入密码",maxlength:8},null,8,["value"])]),_:1}),n(o,null,{default:l(()=>[n(u,{style:{width:"100%","margin-bottom":"20px"},type:"info",onClick:e[1]||(e[1]=i=>r(p)())},{default:l(()=>[w("登录 ")]),_:1})]),_:1})]),_:1},8,["model"])])}}},U=f(b,[["__scopeId","data-v-b63d89b8"]]);export{U as default};
